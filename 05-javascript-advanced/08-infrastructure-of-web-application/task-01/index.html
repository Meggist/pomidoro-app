<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Infrastructure of web application</title>
    <link rel="stylesheet" href="dist/css/styles.css">
</head>
<body>
<script src="dist/js/bundle.js"></script>
<script>
    storage.save('myKey2', 'value', Storage.INDEXED_DB, () => { console.log('saved'); })
    storage.save('myKey1', { prop: 'someObjProp' }, Storage.LOCAL_STORAGE)
    storage.get('myKey1'); // returns { prop: 'someObjProp' } (object) from localStorage

    const syncReturn = storage.get('myKey1', Storage.LOCAL_STORAGE, (value) => {
        console.log('myKey1', value); // asynchronously logs 'myKey1' and { prop: 'someObjProp' } (after console.log(syncReturn) was executed)
    });
    console.log(syncReturn); // logs { prop: 'someObjProp' } before `callback` is called

    //storage.save('myKey2', 'value', Storage.INDEXED_DB); // throws an exception - callback is required

    storage.save('myKey2', 'value', Storage.INDEXED_DB, () => { console.log('saved'); }); // `saved` is logged into console after value is successfuly saved

    //storage.get('myKey2', Storage.INDEXED_DB); // throws exception -  callback is required
    storage.get('myKey2', Storage.INDEXED_DB, (value) => { console.log('myKey2', value); }); // asynchronously logs 'myKey2' and 'value'
</script>
</body>
</html>